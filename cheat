local Players,UserInputService,RunService,LocalPlayer,Character,HumanoidRootPart,Humanoid,Backpack,cratesFolder,barrelsFolder,range,autoEnabled,toolProcessing,originalWalkSpeed=game:GetService("Players"),game:GetService("UserInputService"),game:GetService("RunService"),Players.LocalPlayer,LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait(),Character:WaitForChild("HumanoidRootPart"),Character:WaitForChild("Humanoid"),LocalPlayer:WaitForChild("Backpack"),workspace:WaitForChild("Barrels"):WaitForChild("Crates"),workspace:WaitForChild("Barrels"):WaitForChild("Barrels"),10,false,false,Humanoid.WalkSpeed local function getDistance(part)return(HumanoidRootPart.Position-part.Position).Magnitude end local function clickBarrel(barrel)local clickDetector=barrel:FindFirstChildOfClass("ClickDetector")if clickDetector then fireclickdetector(clickDetector)else warn("Không tìm thấy ClickDetector trong",barrel.Name)end end local function moveToTarget(targetPosition)if not autoEnabled then return false end Humanoid:MoveTo(targetPosition)local startTime,connection,reached=tick(),nil,false connection=RunService.Heartbeat:Connect(function()if not autoEnabled then connection:Disconnect()return end local distance=(HumanoidRootPart.Position-targetPosition).Magnitude if distance<5 or tick()-startTime>10 then reached=true connection:Disconnect()end end)repeat task.wait(0.1)until reached or not autoEnabled return autoEnabled and reached end local function getAllTargets()local targets={}for _,crate in ipairs(cratesFolder:GetChildren())do if crate:IsA("BasePart")or crate:FindFirstChildWhichIsA("BasePart")then local part=crate:IsA("BasePart")and crate or crate:FindFirstChildWhichIsA("BasePart")local distance=getDistance(part)table.insert(targets,{part=crate,pos=part.Position,dist=distance})end end for _,barrel in ipairs(barrelsFolder:GetChildren())do if barrel:IsA("BasePart")or barrel:FindFirstChildWhichIsA("BasePart")then local part=barrel:IsA("BasePart")and barrel or barrel:FindFirstChildWhichIsA("BasePart")local distance=getDistance(part)table.insert(targets,{part=barrel,pos=part.Position,dist=distance})end end table.sort(targets,function(a,b)return a.dist<b.dist end)return targets end local function processTargetsWithMovement()while autoEnabled do local targets=getAllTargets()if#targets==0 then task.wait(1)continue end for _,targetData in ipairs(targets)do if not autoEnabled then break end local success=moveToTarget(targetData.pos)if not success then break end task.wait(0.2)clickBarrel(targetData.part)task.wait(math.random(10,30)/100)end task.wait(0.5)end end local function smartWait()if math.random(1,10)==1 then task.wait(1)else task.wait(math.random(10,30)/100)end end local function processTools()local tools=Backpack:GetChildren()if#tools==0 then warn("Không có Tool nào trong Backpack!")return end for _,tool in ipairs(tools)do if not toolProcessing then break end if tool:IsA("Tool")then tool.Parent=Character task.wait(0.05)if tool.Activate then tool:Activate()end tool.Parent=Backpack smartWait()end end end LocalPlayer.CharacterAdded:Connect(function(newCharacter)Character,HumanoidRootPart,Humanoid,originalWalkSpeed=newCharacter,Character:WaitForChild("HumanoidRootPart"),Character:WaitForChild("Humanoid"),Humanoid.WalkSpeed end)UserInputService.InputBegan:Connect(function(input,gameProcessed)if gameProcessed then return end if input.KeyCode==Enum.KeyCode.P then autoEnabled=not autoEnabled if autoEnabled then print("Auto Collect ENABLED - Speed boosted to 50")Humanoid.WalkSpeed=50 spawn(processTargetsWithMovement)else print("Auto Collect DISABLED - Speed restored")Humanoid.WalkSpeed=originalWalkSpeed end end if input.KeyCode==Enum.KeyCode.L then if not toolProcessing then toolProcessing=true print("Tool Processing ENABLED")spawn(function()processTools()toolProcessing=false print("Tool Processing COMPLETED")end)else toolProcessing=false print("Tool Processing DISABLED")end end end)print("Script loaded!")print("P - Toggle Auto Collect (with auto movement)")print("L - Process Tools in Backpack")
